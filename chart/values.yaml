# Configure number of MinIO Operator Deployment Replicas
replicas:
  count: 1

# Configure repo and tag of MinIO Operator Image
image:
  name: registry.dsop.io/platform-one/apps/minio/operator-ib
  tag: 2.0.9-ib
  imagePullPolicy: IfNotPresent

## set kubernetes cluster domain where minio is running
##
clusterDomain: cluster.local
watchedNamespace: default


# Configure the Cluster Domain and NameSpace to Watch
configMapGenerator:
  - name: operator-env
    literals:
      - CLUSTER_DOMAIN="cluster.local"
      - WATCHED_NAMESPACE="default"

# Configure the Namespace and ServiceAccount name
patchesJson6902:
  - target:
      version: v1
      kind: ServiceAccount
      name: minio-operator
    patch: |-
      - op: replace
        path: /metadata/name
        value: "minio-operator"
  - target:
      version: v1
      kind: Namespace
      name: minio-operator
    patch: |-
      - op: replace
        path: /metadata/name
        value: "minio-operator"

vars:
  - name: CLUSTER_DOMAIN
    objref:
      kind: ConfigMap
      name: operator-env
      apiVersion: v1
    fieldref:
      fieldpath: data.CLUSTER_DOMAIN
  - name: WATCHED_NAMESPACE
    objref:
      kind: ConfigMap
      name: operator-env
      apiVersion: v1
    fieldref:
      fieldpath: data.WATCHED_NAMESPACE
